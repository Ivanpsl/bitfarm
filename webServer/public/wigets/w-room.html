<!DOCTYPE html>
<html lang="en">
<head>

    <link rel="stylesheet" href="./stylesheets/room.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">


</head>
<body>

    <div id="widget-chat" class="row ">
        <div id="room-section">
            <div class="room-header row" >
                <span class="col-md-9 text-start name-container"><h5 id="room-name">Sala 1</h5></span>
                <span class="float-end col-auto token-container text-muted ms-auto"><h5>ID: <span id="roomId-spam">123123</span></h5></span>

            </div>
            <div id="room-container" class="row" >
                <div id="player-container" class="player-container col-4 g-0">
                    <div class="player-drawer g-0">
                        <img class="profile-image" src='https://64.media.tumblr.com/867447a52725fd3372358cb0446def20/tumblr_pihjgvRkNZ1xmnkzyo2_250.png' alt="Profile pic" >
                        <div class="player-text">
                            <h6>Twingastur </h6> 
                            <p class="player-status text-muted">Esperando</p>
                        </div>
                    </div> 
                    <hr>
                
                </div>
                <div id="chat-container" class="col-8 chat-container"  >
                    <div class="row g-0">
                        <div class="row g-0">
                            <div class="col-md-3">
                                
                                <div class="chat-bubble chat-bubble-left">
                                    <h6 class="left-author text-muted text-start lh-1 pxy-0 mxy-0">Autor:</h6>
                                    <p class="chat-msg text-wrap fw-light lh-1 text-start pxy-0 mxy-0">Hola</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="actions-container" class="row actions-container" >
                <div class="col-4 player-actions">
                    <button class="btn btn-secondary mx-0 px-2 py-1 " onclick= "roomManager.exitChatRoom();">
                        <span id="update-icon" class="icon bi bi-x-circle"></span>
                        Desconectar
                    </button>
                    <button id="btn-ready" class="btn btn-primary mx-0 px-2 py-1" onclick= "roomManager.changeReadyStatus();">
                    <span id="ready-icon" class="bi bi-check"></span>    
                    <span id="btn-ready-text">Estoy listo</span>
                    </button>
                </div>
                <div class="col-8 chat-actions">
                    <div class="col-12">
                            <input type="text" id="chat-input" placeholder="Escribe tu mensaje" required>
                            <i id="send-icon" class="material-icons" onclick="roomManager.sendMessage();" type="submit"  >send</i>
                    </div>
                </div>
            </div>
        </div>
    </div>
        
    <script>
        // window.history.pushState("", "", "./lobby.html?w=room");
        $(document).ready(function(){
                var input = document.getElementById("chat-input");

                // Ejecuta la funcion cuando se suelta la tecla
                input.addEventListener("keyup", function(event) {
                    // 13 => intro
                    if (event.keyCode === 13) {
                        //Cancela la opcion por defecto
                        event.preventDefault();
                        // click
                        document.getElementById("send-icon").click();
                    }
            }); 
        });
    </script>
</body>
</html>